{
  "kind": "build_request",
  "title": "Publish the app live (force fresh redeploy and verify production build)",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Force a fresh production redeploy by updating the deployment marker in `frontend/src/redeployMarker.ts`: set `REDEPLOY_MARKER.timestamp` to the current ISO timestamp and increment the `REDEPLOY_MARKER.buildId` version suffix (e.g., `production-publish-v10-...` to `production-publish-v11-...`).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Go live and publish it"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/src/redeployMarker.ts` contains a new ISO-8601 timestamp value for `REDEPLOY_MARKER.timestamp`.",
        "`frontend/src/redeployMarker.ts` contains an incremented `buildId` version (v10 -> v11) while preserving the existing `production-publish-v{N}-YYYYMMDD` style.",
        "The change causes the frontend bundle hash to change (marker is imported by `frontend/src/App.tsx`)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Publish the latest build to production and verify the deployment updated by checking the browser console log line emitted from `frontend/src/App.tsx` matches the new `REDEPLOY_MARKER` values: `[ElectroBeez Build] ID: ... | Timestamp: ...`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Go live and publish it"
        ]
      },
      "acceptanceCriteria": [
        "After deployment completes, opening the deployed site and viewing the browser console shows a line in the format `[ElectroBeez Build] ID: ${REDEPLOY_MARKER.buildId} | Timestamp: ${REDEPLOY_MARKER.timestamp}`.",
        "The logged `buildId` and `timestamp` values exactly match the updated values in `frontend/src/redeployMarker.ts`."
      ]
    }
  ],
  "constraints": [
    "Do not modify any files under `frontend/src/components/ui` (read-only).",
    "Do not edit immutable hook/bootstrap files: `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`.",
    "Keep all backend logic in the existing single Motoko actor (`backend/main.mo`); no new backend canisters/services."
  ],
  "nonGoals": [
    "No new product features or UI/UX changes beyond what is required to force redeploy and verify the live build.",
    "No custom domain setup or DNS changes (covered by `frontend/DOMAIN_SETUP.md` but out of scope for this request).",
    "No third-party integrations (analytics, email, push, etc.)."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}